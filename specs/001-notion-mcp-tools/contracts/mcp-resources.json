{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "MCP Resources Contract",
  "description": "Resource definitions for Notion MCP Server",
  "type": "object",
  "components": {
    "resource": {
      "type": "object",
      "properties": {
        "uri": {
          "type": "string",
          "pattern": "^notion://resource/[a-f0-9-]{36}$",
          "description": "Resource URI format"
        },
        "name": {
          "type": "string",
          "maxLength": 200,
          "description": "Resource name (from Notion page title)"
        },
        "description": {
          "type": "string",
          "maxLength": 500,
          "description": "Resource description"
        },
        "mimeType": {
          "type": "string",
          "default": "text/plain",
          "description": "MIME type of the resource"
        }
      },
      "required": ["uri", "name"]
    },
    "resourceContent": {
      "type": "object",
      "properties": {
        "uri": { "type": "string" },
        "mimeType": { "type": "string" },
        "text": { "type": "string" }
      },
      "required": ["uri", "mimeType", "text"]
    },
    "listResponse": {
      "type": "object",
      "properties": {
        "resources": {
          "type": "array",
          "items": { "$ref": "#/$defs/resource" }
        }
      },
      "required": ["resources"]
    },
    "readResponse": {
      "type": "object",
      "properties": {
        "contents": {
          "type": "array",
          "items": { "$ref": "#/$defs/resourceContent" }
        }
      },
      "required": ["contents"]
    }
  },
  "$defs": {
    "resource": {
      "$ref": "#/$defs/resource"
    },
    "resourceContent": {
      "$ref": "#/$defs/resourceContent"
    }
  },
  "examples": [
    {
      "resources": [
        {
          "uri": "notion://resource/550e8400-e29b-41d4-a716-446655440000",
          "name": "System Architecture",
          "description": "Architecture documentation",
          "mimeType": "text/markdown"
        },
        {
          "uri": "notion://resource/6ba7b810-9dad-11d1-80b4-00c04fd430c8",
          "name": "API Reference",
          "description": "API documentation",
          "mimeType": "text/plain"
        }
      ]
    }
  ]
}
